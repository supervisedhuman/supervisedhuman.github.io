webpackJsonp([1],{0:function(t,n){},1:function(t,n){},"1/oy":function(t,n){},"2pH1":function(t,n){},"7BIe":function(t,n,e){"use strict";function o(t){e("ENGx")}var s=e("ay12"),a=e("ZYsm"),i=e("VU/8"),r=o,c=i(s.a,a.a,!1,r,null,null);n.a=c.exports},"9M+g":function(t,n){},BZST:function(t,n,e){"use strict";var o=e("fyxR"),s=e("1nuA"),a=e.n(s);n.a={name:"dropbox",data:function(){return{status:""}},methods:{save:function(){var t=this;this.status="Saving...",o.a.saveToDropbox().then(function(){t.status="Done"}).catch(function(){t.status="Error"})},load:function(){var t=this;this.status="Loading...",o.a.loadFromDropbox().then(function(){t.$emit("loaded"),t.status="Done"}).catch(function(){t.status="Error"})},login:function(){var t=o.a.login(window.location);window.location=t},isAuthenticated:function(){return o.a.isAuthenticated()}},mounted:function(){if(console.log(this.$route),this.$route.hash){var t=a.a.parse(this.$route.hash).access_token;console.log("setting token to ",t),o.a.setToken(t)}else o.a.loadToken()}}},ENGx:function(t,n){},"G+sT":function(t,n,e){"use strict";var o=e("Zrlr"),s=e.n(o),a=e("wxAW"),i=e.n(a),r=function(){function t(n){s()(this,t),this.paper=n,this.path=[]}return i()(t,[{key:"onMouseDown",value:function(t){this.path&&(this.path.selected=!1),this.path=new this.paper.Path,this.path.add(t.point),this.path.strokeColor="white"}},{key:"onMouseDrag",value:function(t){this.path.lastSegment.point.getDistance(t.point)&&this.path.add(t.point);var n=this.paper.project.hitTest(t.point);n&&(console.log(n),n.item.remove())}},{key:"onMouseUp",value:function(t){this.path.remove()}},{key:"getTool",value:function(){var t=new this.paper.Tool;return t.onMouseDown=this.onMouseDown.bind(this),t.onMouseDrag=this.onMouseDrag.bind(this),t.onMouseUp=this.onMouseUp.bind(this),t}}]),t}();n.a=r},"GL+X":function(t,n,e){"use strict";function o(t){e("Rh2f")}var s=e("pQbI"),a=e("wvn/"),i=e("VU/8"),r=o,c=i(s.a,a.a,!1,r,null,null);n.a=c.exports},GfHa:function(t,n){},Id91:function(t,n){},JMHu:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",{attrs:{fluid:""}},[t._l(t.folders,function(n){return e("b-row",[e("b-col",[e("h3",[t._v("\n      "+t._s(n.name)+" ("+t._s(n.count)+")\n    ")])]),t._v(" "),e("b-col",[n.count?e("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(e){t.studyFolder(n)}}},[t._v("Study")]):t._e(),t._v(" "),n.count?e("b-button",{attrs:{variant:"secondary",size:"sm"},on:{click:function(e){t.browseFolder(n)}}},[t._v("Browse")]):t._e(),t._v(" "),e("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){t.addFlashcard(n)}}},[t._v("Add Flashcard")]),t._v(" "),e("b-button",{attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(e){t.editFolder(n)}}},[t._v("Edit")])],1)],1)}),t._v(" "),e("b-row",[e("b-col",[e("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:function(n){t.newFolder()}}},[t._v("\n      New Folder\n    ")]),t._v(" "),e("dropbox",{on:{loaded:function(n){t.reloadData()}}})],1)],1),t._v(" "),e("b-modal",{ref:"editFolderModal",attrs:{title:"Edit Folder"}},[e("b-input",{model:{value:t.folderToEdit.name,callback:function(n){t.$set(t.folderToEdit,"name",n)},expression:"folderToEdit.name"}}),t._v(" "),e("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[e("b-btn",{staticClass:"float-right",attrs:{size:"sm",variant:"primary"},on:{click:function(n){t.saveFolders()}}},[t._v("\n    Ok\n    ")])],1)],1)],2)},s=[],a={render:o,staticRenderFns:s};n.a=a},M93x:function(t,n,e){"use strict";function o(t){e("V+79")}var s=e("xJD8"),a=e("uj0u"),i=e("VU/8"),r=o,c=i(s.a,a.a,!1,r,null,null);n.a=c.exports},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("7+uW"),s=e("e6fC"),a=e("M93x"),i=e("YaEn"),r=e("GL+X"),c=e("QqNz"),u=e("qb6w"),l=(e.n(u),e("9M+g")),d=(e.n(l),e("B60x")),h=e.n(d);o.a.component("draw",r.a),o.a.component("dropbox",c.a),o.a.use(s.a),o.a.use(h.a),o.a.config.productionTip=!1,new o.a({el:"#app",router:i.a,template:"<App/>",components:{App:a.a}})},QqNz:function(t,n,e){"use strict";var o=e("BZST"),s=e("cwSA"),a=e("VU/8"),i=a(o.a,s.a,!1,null,null,null);n.a=i.exports},Rh2f:function(t,n){},"T+Ob":function(t,n,e){"use strict";var o=e("xkUU"),s=e("JMHu"),a=e("VU/8"),i=a(o.a,s.a,!1,null,null,null);n.a=i.exports},TMN7:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",[t.done?t._e():e("b-row",{staticClass:"justify-content-md-center"},[t._v("\n    "+t._s(this.indx+1)+" out of "+t._s(this.fcs.length)+" (Avg. Score: "+t._s(this.fcs[this.indx].score)+")\n  ")]),t._v(" "),e("b-row",{staticClass:"justify-content-md-center"},[e("router-link",{attrs:{to:{name:"overview"},tag:"b-button"}},[t._v("menu")])],1),t._v(" "),e("b-row",{staticClass:"justify-content-md-center"},[e("b-col",{attrs:{md:"auto"},on:{click:function(n){t.flip()}}},[t.flipped||t.done?t._e():e("draw",{attrs:{id:"front",svg:t.fcs[t.indx].frontSVG,editmode:!1}})],1)],1),t._v(" "),t.done?e("b-row",{staticClass:"justify-content-md-center"},[e("h1",[t._v("Done with this deck")])]):t._e(),t._v(" "),t.flipped&&!t.done?e("b-row",{staticClass:"justify-content-md-center"},[e("b-col",[e("b-button-group",[e("b-button",{attrs:{variant:"danger"},on:{click:function(n){t.saveResult(-2)}}},[t._v("Bad")]),t._v(" "),e("b-button",{attrs:{variant:"secondary"},on:{click:function(n){t.saveResult(-1)}}},[t._v("Kinda bad")]),t._v(" "),e("b-button",{attrs:{variant:"secondary-outline"},on:{click:function(n){t.saveResult(0)}}},[t._v("Skip")]),t._v(" "),e("b-button",{attrs:{variant:"secondary"},on:{click:function(n){t.saveResult(1)}}},[t._v("Kinda good")]),t._v(" "),e("b-button",{attrs:{variant:"success"},on:{click:function(n){t.saveResult(2)}}},[t._v("Good")])],1)],1)],1):t._e(),t._v(" "),t.flipped?e("b-row",{staticClass:"justify-content-md-center"},[e("b-col",{attrs:{md:"auto"}},[e("draw",{attrs:{id:"back",svg:t.fcs[t.indx].backSVG,editmode:!1}})],1)],1):t._e(),t._v(" "),e("b-row",[e("b-col")],1)],1)},s=[],a={render:o,staticRenderFns:s};n.a=a},Tfp0:function(t,n,e){"use strict";function o(t){e("2pH1")}var s=e("flix"),a=e("TMN7"),i=e("VU/8"),r=o,c=i(s.a,a.a,!1,r,null,null);n.a=c.exports},"V+79":function(t,n){},YaEn:function(t,n,e){"use strict";var o=e("7+uW"),s=e("/ocq"),a=e("7BIe"),i=e("T+Ob"),r=e("Tfp0");o.a.use(s.a),n.a=new s.a({routes:[{path:"/",name:"overview",component:i.a},{path:"/flashcard/:id",name:"flashcard",component:a.a},{path:"/study/:folderid",name:"study",component:r.a}],mode:"history"})},ZYsm:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",[e("b-row",{staticClass:"justify-content-md-center"},[e("router-link",{attrs:{to:{name:"overview"},tag:"b-button"}},[t._v("menu")]),t._v(" "),e("router-link",{attrs:{to:{name:"flashcard",params:{id:t.prev}},disabled:0==t.prev,tag:"b-button"}},[t._v("previous")]),t._v(" "),e("router-link",{attrs:{to:{name:"flashcard",params:{id:t.next}},disabled:0==t.next,tag:"b-button"}},[t._v("next")]),t._v(" "),e("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:function(n){t.save()}}},[t._v("\n      save\n    ")])],1),t._v(" "),e("b-row",{staticClass:"justify-content-md-center"},[e("b-col",{attrs:{md:"auto"}},[e("draw",{attrs:{id:"front",json:t.jFront,svg:t.fc.frontSVG,editmode:!0},on:{jsonReady:t.jsonReady}})],1)],1),t._v(" "),e("b-row",{staticClass:"justify-content-md-center"},[e("b-col",{attrs:{md:"auto"}},[e("draw",{attrs:{id:"back",json:t.jBack,svg:t.fc.backSVG,editmode:!0},on:{jsonReady:t.jsonReady}})],1)],1),t._v(" "),e("b-row",[e("b-col")],1)],1)},s=[],a={render:o,staticRenderFns:s};n.a=a},ay12:function(t,n,e){"use strict";var o=e("fyxR");n.a={name:"app",data:function(){return{jFront:"",jBack:"",fc:{},next:0,prev:0}},watch:{$route:function(t,n){this.load()}},mounted:function(){this.load()},methods:{save:function(){this.getJSON()},getJSON:function(){this.jFront="save",this.jBack="save"},gotJSON:function(){console.log("got json"),o.a.saveFlashcard(this.fc)},load:function(){var t=this;o.a.getFlashcard(this.$route.params.id).then(function(n){console.log("got flashcard"+n),t.jFront=n.front,console.log(n),t.jBack=n.back,t.fc=n}),o.a.getInSeqFlashcard(this.$route.params.id,!0).then(function(n){t.prev=n?n.id:0}),o.a.getInSeqFlashcard(this.$route.params.id,!1).then(function(n){t.next=n?n.id:0})},jsonReady:function(t){"front"===t.id?(this.jFront=t.json,this.fc.front=this.jFront,this.fc.frontSVG=t.svg):(this.jBack=t.json,this.fc.back=this.jBack,this.fc.backSVG=t.svg),"save"!==this.jFront&&"save"!==this.jBack&&this.gotJSON()}}}},cwSA:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("b-container",{attrs:{fluid:""}},[e("b-row",[e("b-col",[e("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:function(n){t.login()}}},[t._v("\n      Login\n    ")]),t._v(" "),e("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:function(n){t.save()}}},[t._v("\n      Save\n    ")]),t._v(" "),e("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:function(n){t.load()}}},[t._v("\n      Load\n    ")]),t._v("\n    "+t._s(t.status)+"\n\n    ")],1)],1)],1)},s=[],a={render:o,staticRenderFns:s};n.a=a},flix:function(t,n,e){"use strict";var o=e("fyxR");n.a={name:"app",data:function(){return{fcs:[0],indx:0,flipped:!1}},watch:{$route:function(t,n){this.load()}},mounted:function(){this.load()},methods:{flip:function(){this.flipped=!0},load:function(){this.fcs=o.a.getFlashcardsInFolderRandom(this.$route.params.folderid)},nextCard:function(){this.flipped=!1,this.indx===this.fcs.length-1?this.done=!0:this.indx++},saveResult:function(t){0!==t?o.a.addScoreAndSaveFlashcard(this.fcs[this.indx],t).then(this.nextCard):this.nextCard()}}}},fyxR:function(t,n,e){"use strict";e.d(n,"a",function(){return g});var o=e("//Fk"),s=e.n(o),a=e("mvHQ"),i=e.n(a),r=e("Zrlr"),c=e.n(r),u=e("wxAW"),l=e.n(u),d=e("rqv+"),h=(e.n(d),e("xe4/")),f=e.n(h),v=new d.Dropbox({clientId:"jzrc8jsz6h9fd4t"}),p=function(){function t(){c()(this,t),this.staticVariable="asdf",this.dxKey="",this.dx={},this.ls=window.localStorage}return l()(t,[{key:"lsToString",value:function(){var t=this.ls.getItem("folders");t=t?JSON.parse(t):[];var n=this.ls.getItem("flashcards");return n=n?JSON.parse(n):[],f.a.deflate(i()({folders:t,fcs:n}),{to:"string"})}},{key:"saveToDropbox",value:function(){var t=this;return new s.a(function(n,e){t.dx.filesUpload({path:"/fcs.json.gz",contents:t.lsToString(),mode:{".tag":"overwrite"}}).then(function(t){n(t),console.log(t)}).catch(function(t){e(t),console.error(t)})})}},{key:"loadFromDropbox",value:function(){var t=this;return new s.a(function(n,e){t.dx.filesDownload({path:"/fcs.json.gz"}).then(function(e){console.log(e);var o=new FileReader;o.onload=function(e){console.log(e);var s=f.a.inflate(o.result,{to:"string"}),a=JSON.parse(s);console.log(a),t.saveFolders(a.folders),t.saveFlashcards(a.fcs),n()},o.readAsText(e.fileBlob)}).catch(function(t){console.error(t)})})}},{key:"setToken",value:function(t){this.dxKey=t,this.ls.setItem("dxkey",this.dxKey),this.dx=new d.Dropbox({accessToken:this.dxKey,clientId:"jzrc8jsz6h9fd4t"})}},{key:"loadToken",value:function(){this.ls.getItem("dxkey")&&(this.dxKey=this.ls.getItem("dxkey"),this.dx=new d.Dropbox({accessToken:this.dxKey,clientId:"jzrc8jsz6h9fd4t"}))}},{key:"isAuthenticated",value:function(){return this.dxKey}},{key:"login",value:function(t){return v.getAuthenticationUrl(t)}},{key:"getFolders",value:function(){var t=this;return console.log(this),new s.a(function(n,e){var o=t.ls.getItem("folders");o=o?JSON.parse(o):[],o.forEach(function(n,e){n.count=t.getFlashcardsInFolder(n.id).length}),n(o)})}},{key:"saveFolders",value:function(t){this.ls.setItem("folders",i()(t))}},{key:"newFolder",value:function(){var t=this;return console.log(this),new s.a(function(n,e){t.getFolders().then(function(e){e.push({id:Date.now(),name:"new folder"}),t.saveFolders(e),n(e)})})}},{key:"getFlashcards",value:function(){var t=this.ls.getItem("flashcards");return t=t?JSON.parse(t):[]}},{key:"shuffleArray",value:function(t){for(var n=t.length-1;n>0;n--){var e=Math.floor(Math.random()*(n+1)),o=t[n];t[n]=t[e],t[e]=o}return t}},{key:"getFlashcardsInFolderRandom",value:function(t){return this.shuffleArray(this.getFlashcardsInFolder(t))}},{key:"getFlashcardsInFolder",value:function(t){var n=[];return this.getFlashcards().forEach(function(e,o){e.folder-t==0&&n.push(e)}),n}},{key:"getFlashcard",value:function(t){var n=this;return console.log(t),new s.a(function(e,o){n.getFlashcards().forEach(function(n,o){n.id-t==0&&e(n)})})}},{key:"getInSeqFlashcard",value:function(t,n){var e=this;return new s.a(function(o,s){var a=0;e.getFlashcard(t).then(function(s){var i=e.getFlashcardsInFolder(s.folder);i.forEach(function(e,o){e.id-t==0&&(a=n?o-1:o+1)}),o(a>=0&&a<i.length?i[a]:null)})})}},{key:"saveFlashcards",value:function(t){this.ls.setItem("flashcards",i()(t))}},{key:"saveFlashcard",value:function(t){var n=this;console.log(t.id);var e=this.getFlashcards();return new s.a(function(o,s){e.forEach(function(n,o){n.id-t.id==0&&(e[o]=t)}),n.saveFlashcards(e),o()})}},{key:"addScoreAndSaveFlashcard",value:function(t,n){return t.scores||(t.scores=[]),t.scores.push(n),t.score=t.scores.reduce(function(t,n){return t+n})/t.scores.length,this.saveFlashcard(t)}},{key:"newFlashcard",value:function(t){var n=this;return console.log(this),new s.a(function(e,o){var s=n.getFlashcards(),a={id:Date.now(),folder:t.id,front:"{}",back:"{}",score:0,frontSVG:"",backSVG:""};s.push(a),n.saveFlashcards(s),e(a)})}},{key:"hello",value:function(){alert(this.staticVariable)}}]),t}(),g=new p},ghzJ:function(t,n,e){"use strict";var o=e("Zrlr"),s=e.n(o),a=e("wxAW"),i=e.n(a),r=function(){function t(n){s()(this,t),this.paper=n,this.firstCorner=0,this.secondCorner=0,this.group=null,this.selectionRect=null,this.selectionRectPath=null}return i()(t,[{key:"onMouseDown",value:function(t){this.group&&this.group.bounds.contains(t.point)?this.group.position=t.point:(this.group&&(this.group.selected=!1,this.selectionRectPath.remove()),this.group=null,this.selectionRect=new this.paper.Rectangle(this.firstCorner,this.firstCorner),this.selectionRectPath=new paper.Path.Rectangle(this.selectionRect),this.firstCorner=t.point)}},{key:"onMouseDrag",value:function(t){this.group||(this.secondCorner=t.point,this.selectionRectPath.remove(),this.selectionRect=new this.paper.Rectangle(this.firstCorner,this.secondCorner),this.selectionRectPath=new paper.Path.Rectangle(this.selectionRect),this.selectionRectPath.strokeColor="black",this.selectionRectPath.strokeWidth=1,this.selectionRectPath.strokeCap="round",this.selectionRectPath.dashArray=[10,12]),this.group&&this.group.bounds.contains(t.point)&&(this.group.position=t.point)}},{key:"onMouseUp",value:function(t){if(!this.group){this.secondCorner=t.point;var n=this.paper.project.getItems({inside:new paper.Rectangle(this.firstCorner,this.secondCorner)}),e=new paper.Group(n);this.group=e}}},{key:"getTool",value:function(){var t=new this.paper.Tool;return t.onMouseDown=this.onMouseDown.bind(this),t.onMouseDrag=this.onMouseDrag.bind(this),t.onMouseUp=this.onMouseUp.bind(this),t}}]),t}();n.a=r},pQbI:function(t,n,e){"use strict";var o,s=e("mvHQ"),a=e.n(s),i=e("M2cA"),r=(e.n(i),e("smwm")),c=e("G+sT"),u=e("ghzJ"),l={};n.a={name:"draw",props:["id","json","editmode","svg"],data:function(){return{mypaper:{}}},mounted:function(){document.getElementById(this.id).addEventListener("touchstart",function(t){"stylus"!==t.touches[0].touchType&&(t.stopPropagation(),t.preventDefault())}),document.getElementById(this.id).addEventListener("touchmove",function(t){"stylus"!==t.touches[0].touchType&&(t.stopPropagation(),t.preventDefault())}),this.editmode&&(l[this._uid]=new i.paper.PaperScope,o=l[this._uid],i.paper.install(window),o.setup(document.getElementById(this.id)))},watch:{json:function(t){o=l[this._uid],o.activate(),"save"===t?this.$emit("jsonReady",{id:this.id,json:a()(o.project),svg:o.project.exportSVG({asString:!0})}):this.editmode&&this.load(t)}},methods:{load:function(t){console.log(t),o=l[this._uid],o.activate(),o.project.clear(),o.importJSON(t)},selection:function(){o=l[this._uid],o.activate(),new u.a(o).getTool().activate()},pen:function(t){o=l[this._uid],o.activate(),new r.a(o,t).getTool().activate()},eraser:function(){o=l[this._uid],o.activate(),new c.a(o).getTool().activate()}}}},qb6w:function(t,n){},smwm:function(t,n,e){"use strict";var o=e("Zrlr"),s=e.n(o),a=e("wxAW"),i=e.n(a),r=function(){function t(n,e){s()(this,t),this.paper=n,this.path=[],this.color=e}return i()(t,[{key:"onMouseDown",value:function(t){this.path&&(this.path.selected=!1),this.path=new this.paper.Path,this.path.add(t.point),this.path.strokeColor=this.color}},{key:"onMouseDrag",value:function(t){this.path.lastSegment.point.getDistance(t.point)<30&&this.path.add(t.point)}},{key:"onMouseUp",value:function(t){this.path.simplify(1)}},{key:"getTool",value:function(){var t=new this.paper.Tool;return t.onMouseDown=this.onMouseDown.bind(this),t.onMouseDrag=this.onMouseDrag.bind(this),t.onMouseUp=this.onMouseUp.bind(this),t}}]),t}();n.a=r},uj0u:function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],a={render:o,staticRenderFns:s};n.a=a},"wvn/":function(t,n,e){"use strict";var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t.editmode?e("b-button-group",[e("b-button",{on:{click:function(n){t.pen("black")}}},[t._v("P (black)")]),t._v(" "),e("b-button",{on:{click:function(n){t.pen("red")}}},[t._v("P (red)")]),t._v(" "),e("b-button",{on:{click:function(n){t.pen("green")}}},[t._v("P (green)")]),t._v(" "),e("b-button",{on:{click:function(n){t.eraser()}}},[t._v("E")]),t._v(" "),e("b-button",{on:{click:function(n){t.selection()}}},[t._v("S")])],1):t._e(),t._v(" "),e("br"),t._v(" "),t.editmode?e("canvas",{attrs:{hidpi:"on",id:t.id,width:"840",height:"600"}}):t.svg?e("span",{domProps:{innerHTML:t._s(t.svg)}}):e("svg",{attrs:{height:"600",width:"800"}})],1)},s=[],a={render:o,staticRenderFns:s};n.a=a},xJD8:function(t,n,e){"use strict";var o=e("v5o6"),s=e.n(o);n.a={name:"app",mounted:function(){s.a.attach(document.body)}}},xkUU:function(t,n,e){"use strict";var o=e("fyxR");n.a={name:"folders",data:function(){return{folders:[],folderToEdit:{}}},methods:{addFlashcard:function(t){var n=this;o.a.newFlashcard(t).then(function(t){n.$router.push({name:"flashcard",params:{id:t.id}})})},studyFolder:function(t){this.$router.push({name:"study",params:{folderid:t.id}})},browseFolder:function(t){var n=o.a.getFlashcardsInFolder(t.id)[0].id;this.$router.push({name:"flashcard",params:{id:n}})},editFolder:function(t){this.folderToEdit=t,this.$refs.editFolderModal.show()},saveFolders:function(){o.a.saveFolders(this.folders),this.$refs.editFolderModal.hide()},newFolder:function(){var t=this;o.a.newFolder().then(function(n){t.folders=n})},reloadData:function(){var t=this;o.a.getFolders().then(function(n){t.folders=n})}},mounted:function(){var t=this;o.a.getFolders().then(function(n){t.folders=n})}}},zj2Q:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.c4ff599e9c32e934a290.js.map